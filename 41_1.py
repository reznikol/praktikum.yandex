# 5. ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
# 1. ะะฐะฟะธัะธัะต ััะฝะบัะธั what_weather(), ะบะพัะพััั ะทะฐัะตะผ ะฑัะดะตัะต ะธัะฟะพะปัะทะพะฒะฐัั ะฒ ะบะพะดะต ะะฝัะธัั:
# ะัะฟะพะปะฝะธัะต HTTP-ะทะฐะฟัะพั, ะฟะพะผะตััะธะฒ ะฒัะทะพะฒ ััะฝะบัะธะธ get() ะฒะฝัััั ะฑะปะพะบะฐ try.
# ะะฝะฐัะตะฝะธั URL ะธ ะฟะฐัะฐะผะตััะพะฒ ะฟะพะปััะธัะต ะธะท ััะฝะบัะธะน make_url() (ะฒ ะฝะตั ะฝัะถะฝะพ ะฟะตัะตะดะฐัั ะฝัะถะฝัะน ะณะพัะพะด ะบะฐะบ ะฐัะณัะผะตะฝั city) ะธ make_parameters().
# ะัะธ ยซะฒัะฑัะฐััะฒะฐะฝะธะธยป ะธัะบะปััะตะฝะธั ัะธะฟะฐ requests.ConnectionError โ ััะฝะบัะธั what_weather() ะดะพะปะถะฝะฐ ะฒะพะทะฒัะฐัะฐัั ัะพะพะฑัะตะฝะธะต ะพะฑ ะพัะธะฑะบะต '<ัะตัะตะฒะฐั ะพัะธะฑะบะฐ>'.
# ะัะปะธ ะบะพะด HTTP-ะพัะฒะตัะฐ ัะฐะฒะตะฝ 200 (ะฒัั ัะพัะพัะพ), ะฒะตัะฝะธัะต ะธะท ััะฝะบัะธะธ ัะตะบัั ะพัะฒะตัะฐ. ะ ะฟัะพัะธะฒะฝะพะผ ัะปััะฐะต ััะฝะบัะธั ะดะพะปะถะฝะฐ ะฒะตัะฝััั ัััะพะบั '<ะพัะธะฑะบะฐ ะฝะฐ ัะตัะฒะตัะต ะฟะพะณะพะดั>'.

import requests
cities = [
    'ะะผัะบ',
    'ะะฐะปะธะฝะธะฝะณัะฐะด',
    'ะงะตะปัะฑะธะฝัะบ',
    'ะะปะฐะดะธะฒะพััะพะบ',
    'ะัะฐัะฝะพัััะบ',
    'ะะพัะบะฒะฐ',
    'ะะบะฐัะตัะธะฝะฑััะณ'
]
def make_url(city): # ะฒ URL ะทะฐะดะฐัะผ ะณะพัะพะด, ะฒ ะบะพัะพัะพะผ ัะทะฝะฐะตะผ ะฟะพะณะพะดั
    return f'http://wttr.in/{city}'
def make_parameters():
    params = {
        'format': 2,  # ะฟะพะณะพะดะฐ ะพะดะฝะพะน ัััะพะบะพะน
        'M': ''  # ัะบะพัะพััั ะฒะตััะฐ ะฒ "ะผ/ั"
    }
    return params
def what_weather(city):
    try:
        response=requests.get(make_url(city), params=make_parameters())
        if response.status_code == 200:
            return response.text
        else: 
            return '<ะพัะธะฑะบะฐ ะฝะฐ ัะตัะฒะตัะต ะฟะพะณะพะดั>'
    except requests.ConnectionError:
        print ('<ัะตัะตะฒะฐั ะพัะธะฑะบะฐ>')
print('ะะพะณะพะดะฐ ะฒ ะณะพัะพะดะฐั:')
for city in cities:
    print(city, what_weather(city))
    
# ะะตะทัะปััะฐั
# ะะพะณะพะดะฐ ะฒ ะณะพัะพะดะฐั:
# ะะผัะบ ๐จ  ๐ก๏ธ-12ยฐC ๐ฌ๏ธโ3.1m/s
# 
# ะะฐะปะธะฝะธะฝะณัะฐะด โ๏ธ ๐ก๏ธ+3ยฐC ๐ฌ๏ธโ6.1m/s
# 
# ะงะตะปัะฑะธะฝัะบ โ๏ธ  ๐ก๏ธ-14ยฐC ๐ฌ๏ธโ3.1m/s
# 
# ะะปะฐะดะธะฒะพััะพะบ โ๏ธ ๐ก๏ธ-7ยฐC ๐ฌ๏ธโ4.2m/s
# 
# ะัะฐัะฝะพัััะบ ๐จ  ๐ก๏ธ-18ยฐC ๐ฌ๏ธโ1.1m/s
# 
# ะะพัะบะฒะฐ โ๏ธ  ๐ก๏ธ+1ยฐC ๐ฌ๏ธโ5.3m/s
# 
# ะะบะฐัะตัะธะฝะฑััะณ โ๏ธ  ๐ก๏ธ-12ยฐC ๐ฌ๏ธโ1.9m/s